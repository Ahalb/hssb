(function(e){function t(t){for(var o,c,s=t[0],i=t[1],u=t[2],l=0,f=[];l<s.length;l++)c=s[l],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&f.push(a[c][0]),a[c]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);d&&d(t);while(f.length)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,c=1;c<n.length;c++){var i=n[c];0!==a[i]&&(o=!1)}o&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},a={app:0},r=[];function c(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-2d0c910f":"3bb1223e","chunk-2d221fb8":"b99c567c"}[e]+".js"}function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,o){n=a[e]=[t,o]}));t.push(n[2]=o);var r,i=document.createElement("script");i.charset="utf-8",i.timeout=120,s.nc&&i.setAttribute("nonce",s.nc),i.src=c(e);var u=new Error;r=function(t){i.onerror=i.onload=null,clearTimeout(l);var n=a[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",u.name="ChunkLoadError",u.type=o,u.request=r,n[1](u)}a[e]=void 0}};var l=setTimeout((function(){r({type:"timeout",target:i})}),12e4);i.onerror=i.onload=r,document.head.appendChild(i)}return Promise.all(t)},s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/hssb/",s.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=u;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0613":function(e,t,n){"use strict";n("99af"),n("4de4"),n("b0c0"),n("ac1f"),n("466d"),n("1276"),n("2ca0"),n("498a"),n("96cf");var o=n("1da1"),a=n("2b0e"),r=n("2f62");a["default"].use(r["a"]),t["a"]=new r["a"].Store({state:{name:"",alerts:[],connectionState:"Disconnected",connection:new WebSocket("wss://scholar-bowl-server.herokuapp.com","echo-protocol"),activeBuzzer:null,onlineList:[],host:""},mutations:{setName:function(e,t){e.name=t,localStorage.hasName=JSON.stringify(t)},addAlert:function(e,t){e.alerts.push(t)},removeAlert:function(e,t){e.alerts=e.alerts.filter((function(e){return e!==t}))},changeConnectionState:function(e,t){e.connectionState=t},setConnection:function(e,t){e.connection=t},setBuzzer:function(e,t){e.activeBuzzer="null"===t?null:t},setOnline:function(e,t){e.onlineList=t},setHost:function(e,t){e.host=t}},actions:{start:function(e){var t,n=e.commit;if(localStorage){var o="";localStorage.hasName?o=JSON.parse(localStorage.hasName):(n("addAlert","I don't know who you are! Tell me in the upper left"),n("addAlert","New here? Try adding me to the home screen or installing me as an app!")),n("setName",(null===(t=o)||void 0===t?void 0:t.length)?o:"Anonymous")}else alert("Your browser doesn't support local storage - that's an issue. Please use a modern browser that does")},connect:function(e){var t=arguments;return Object(o["a"])(regeneratorRuntime.mark((function n(){var o,a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:o=e.commit,a=e.dispatch,r=t.length>1&&void 0!==t[1]&&t[1],o("changeConnectionState","Connecting..."),a("join",r);case 4:case"end":return n.stop()}}),n)})))()},disconnect:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,o=e.state,o.connection.close(),n("changeConnectionState","Disconnected");case 3:case"end":return t.stop()}}),t)})))()},buzz:function(e){var t=e.state,n=e.commit;t.connection.readyState===t.connection.OPEN?(console.log(t.connection),null===t.activeBuzzer?(t.connection.send("BUZZ ".concat(t.name)),n("setBuzzer",t.name),n("addAlert","You buzzed")):n("addAlert","".concat(t.activeBuzzer===t.name?"You have":"".concat(t.activeBuzzer," has")," already buzzed"))):n("addAlert","You haven't connected yet!")},clear:function(e){var t=e.state,n=e.commit;t.connection.readyState===t.connection.OPEN?(t.connection.send("CLEAR"),n("setBuzzer","null"),n("addAlert","You cleared")):n("addAlert","You haven't connected yet!")},join:function(e){var t=arguments,n=this;return Object(o["a"])(regeneratorRuntime.mark((function o(){var a,r,c,s,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:a=e.commit,r=e.dispatch,c=e.state,s=t.length>1&&void 0!==t[1]&&t[1],i=new WebSocket("wss://scholar-bowl-server.herokuapp.com","echo-protocol"),i.onopen=function(){a("changeConnectionState","Connected")},i.onclose=function(e){a("addAlert","Connection ".concat(e.wasClean?"":"(not cleanly) ","closed").concat(e.reason.length?": ".concat(e.reason):""))},i.onmessage=function(e){var t,o,u,l,d=e.data,f=null!==(t=(null!==(o=d.match(/^\S+/))&&void 0!==o?o:"")[0])&&void 0!==t?t:null,m=null!==(u=(null!==(l=d.match(/ (\S+\s)*(\S+)$/))&&void 0!==l?l:"")[0])&&void 0!==u?u:null;if(null!==f)switch(f){case"BUZZ":r("onBuzz",m);break;case"CLEAR":r("onClear");break;case"NAME":s&&a("setHost",c.name),i.send("NAME ".concat(c.name).concat(s?" HOST":""));break;case"NAME_IN_USE":if(c.name.startsWith("Anonymous")){var h=c.name.match(/\d+$/),p=parseInt(h?h[0]:"0",10);a("setName","Anonymous".concat(p+1)),n.dispatch("join",s)}else a("addAlert","Someone else is using that name. Please try a different one and reconnect"),n.dispatch("disconnect");break;case"SUCCESS":a("addAlert","Successfully connected");break;case"HOST":m===c.name&&a("addAlert","You are now the host"),a("setHost",m);break;case"ONLINE":a("setOnline",m.trim().split(","));break;default:a("addAlert","Unknown message type: ".concat(d));break}},i.onerror=function(e){a("addAlert","ERROR: ".concat(e)),console.error("error",e)},a("setConnection",i);case 8:case"end":return o.stop()}}),o)})))()},onBuzz:function(e,t){var n=e.commit;n("addAlert","".concat(t," buzzed")),n("setBuzzer",t)},onClear:function(e){var t=e.commit,n=e.state;t("addAlert","".concat(n.host," cleared")),t("setBuzzer","null")},host:function(e,t){var n=e.state,o=e.commit;n.connection.send("HOST ".concat(t)),o("setHost",t)}},modules:{}})},"5c0b":function(e,t,n){"use strict";var o=n("9c0c"),a=n.n(o);a.a},"9c0c":function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"h-100",attrs:{id:"app"}},[n("router-link",{staticClass:"skiplink",attrs:{to:"#main"},nativeOn:{click:function(t){return e.scrollFix("#main")}}},[e._v("Skip to content")]),n("Navbar"),n("div",{staticClass:"container pt-3"},[e.showName?n("h2",[e._v(e._s(e.location))]):e._e(),n("router-view",{staticClass:"mb-5 pb-5"}),n("br",{staticClass:"d-block d-md-none"}),n("br",{staticClass:"d-block d-sm-none"}),n("br",{staticClass:"d-block d-sm-none"}),n("Footer")],1)],1)},r=[],c=(n("caad"),n("b0c0"),n("d4ec")),s=n("bee2"),i=n("262e"),u=n("2caf"),l=n("9ab4"),d=n("60a3"),f=n("0613"),m=n("5f5b"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-navbar",{staticClass:"text-white",attrs:{toggleable:"lg",variant:"secondary"}},[n("b-navbar-brand",[n("router-link",{attrs:{to:"/"}},[e._v("Home")])],1),n("b-navbar-toggle",{staticClass:"bg-primary",attrs:{target:"nav-collapse"}}),n("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[n("b-navbar-nav",[n("b-nav-item",[n("router-link",{attrs:{to:"/about"}},[e._v("How it works")])],1)],1),n("b-navbar-nav",{staticClass:"ml-auto"},[n("b-nav-form",[e._v(" Welcome,"),n("pre",[e._v(" ")]),n("b-form-input",{staticClass:"mr-sm-2",attrs:{size:"sm",value:e.name,placeholder:"wait a minute...who are you?"},on:{input:e.updateName}})],1)],1)],1)],1)],1)},p=[],b=(n("2532"),n("498a"),n("96cf"),n("1da1")),v=n("f7fe"),g=n.n(v),w=function(e){Object(i["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.debounceReconnect=g()(e.reconnect,500),e}return Object(s["a"])(n,[{key:"updateName",value:function(e){f["a"].commit("setName",e),!e.includes(",")&&e.trim().length&&this.debounceReconnect()}},{key:"reconnect",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=f["a"].state.name===f["a"].state.host,e.next=3,f["a"].dispatch("disconnect");case 3:return e.next=5,f["a"].dispatch("connect",t);case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"name",get:function(){return f["a"].state.name}},{key:"store",get:function(){return f["a"]}}]),n}(d["b"]);w=Object(l["a"])([d["a"]],w);var y=w,k=y,O=n("2877"),S=Object(O["a"])(k,h,p,!1,null,null,null),C=S.exports,j=function(e,t){t._c;return t._m(0)},z=[function(e,t){var n=t._c;return n("footer",{staticClass:"w-100 bg-secondary text-white p-2 fixed-bottom mt-3 row ml-0",attrs:{id:"footer"}},[n("span",{staticClass:"w-100"},[t._v(" Built with Vue.js and TypeScript, styled with Bootstrap Vue, made in VSCode, and deployed on GitHub Pages. Uses a websocket server deployed on Heroku for peer-to-peer communication. ")]),n("div",{staticClass:"w-100"},[n("a",{staticClass:"col",attrs:{href:"https://hsscholarbowl.github.com/hssb"}},[t._v("Code")]),n("a",{staticClass:"col",attrs:{href:"https://hsscholarbowl.github.com/server"}},[t._v("Server")])])])}],A={},N=Object(O["a"])(A,j,z,!0,null,null,null),_=N.exports;n("a5d8");d["b"].use(m["a"]);var x=function(e){Object(i["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"mounted",value:function(){document.title="HS Scholar Bowl",f["a"].dispatch("start")}},{key:"scrollFix",value:function(e){window.location.hash=e}},{key:"showName",get:function(){return!["Main"].includes(this.location)}},{key:"location",get:function(){var e=this.$route.name;return e||""}}]),n}(d["b"]);x=Object(l["a"])([Object(d["a"])({components:{Navbar:C,Footer:_}})],x);var B=x,E=B,R=(n("5c0b"),n("cfb4"),Object(O["a"])(E,a,r,!1,null,"cda2abbe",null)),P=R.exports,T=(n("d3b7"),n("8c4f")),H=n("323e"),M=n.n(H);o["default"].use(T["a"]);var Y=[{path:"/",name:"Main",component:function(){return n.e("chunk-2d221fb8").then(n.bind(null,"cd56"))}},{path:"/about",name:"How it Works",component:function(){return n.e("chunk-2d0c910f").then(n.bind(null,"580f"))}}],L=new T["a"]({mode:"history",base:"/hssb/",routes:Y});L.beforeResolve((function(e,t,n){e.name&&M.a.start(),n()})),L.afterEach((function(){M.a.done()}));var F=L,U=n("9483");Object(U["a"])("".concat("/hssb/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){f["a"].commit("addAlert","The site has been cached, so you can view it offline (hint: you'll need to add it to the home screen or install it as an app first)"),console.log("Content has been cached for offline use.")},updatefound:function(){f["a"].commit("addAlert","Downloading new content"),console.log("New content is downloading.")},updated:function(){f["a"].commit("addAlert","There's new content available! Please reload the page"),console.log("New content is available; please refresh.")},offline:function(){f["a"].commit("addAlert","No internet connection. You're running in offline mode. Although you can't connect and buzz, you can still click the buttons and change your name"),console.log("No internet connection found. App is running in offline mode.")},error:function(e){f["a"].commit("addAlert","There was an error registering a server worker - don't worry, this just means the site won't load offline"),console.error("Error during service worker registration:",e)}}),o["default"].config.productionTip=!1,new o["default"]({router:F,store:f["a"],render:function(e){return e(P)}}).$mount("#app")},cfb4:function(e,t,n){"use strict";var o=n("cfcb"),a=n.n(o);a.a},cfcb:function(e,t,n){}});
//# sourceMappingURL=app.7c1fcc4b.js.map